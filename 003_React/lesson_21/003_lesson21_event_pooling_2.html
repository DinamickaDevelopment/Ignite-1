<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <script src="Libraries/react.js"></script>
    <script src="Libraries/react-dom.js"></script>
    <script src="Libraries/browser.min.js"></script>
    <link rel="stylesheet" href="Libraries/bootstrap.css">

    <title>Event Pooling</title>
    <script type="text/babel">
        var Demo = React.createClass({

            clickHandler: function(event) {
                console.log(event); // => nullified object.
                console.log(event.type); // => "click"
                var eventType = event.type; // => "click"

                setTimeout(function() {
                console.log(event.type); // => null
                console.log(eventType); // => "click"
                }, 0);

				event.persist(); // событие будет доступно при асинхронном обращении к нему
				
                this.setState({clickEvent: event});
                this.setState({eventType: event.type}); 
            }, 
 
            render: function() {
               return (
                <button onClick={this.clickHandler}>Click!</button>
            )}
        })

        var container = document.getElementById('example');
        ReactDOM.render(<Demo />, container); 

    </script>

</head>
<body>

    <div id="example"></div>

</body>
</html>